import{a as X,b as Z,c as $}from"./chunk-ZG3BM6WG.js";import{a as Q,b as q,d as K}from"./chunk-UCTFFDRC.js";import{a as y}from"./chunk-XWIWKQ42.js";import{d as I,f as k,i as D,k as G,n as z,o as F,p as T,s as J}from"./chunk-XCIL7RTR.js";import{$a as b,Aa as m,Ca as M,G as H,Ia as o,Ja as f,K as _,Ka as g,L as N,La as h,Ma as C,Na as x,P as w,Q as S,aa as l,ab as Y,ba as v,bb as B,o as L,oa as u,ob as U,pb as E,qa as p,ra as V,rb as R,ua as t,va as n,xa as O}from"./chunk-AG4GG64L.js";var ee=(()=>{class a{static \u0275fac=function(r){return new(r||a)};static \u0275cmp=_({type:a,selectors:[["app-consults"]],decls:2,vars:0,template:function(r,i){r&1&&(t(0,"p"),o(1,"consults works!"),n())}})}return a})();function ce(a,d){if(a&1){let e=O();t(0,"div",6)(1,"h2"),o(2),n(),t(3,"p"),o(4),n(),t(5,"p"),o(6),n(),t(7,"p"),o(8),n(),t(9,"p"),o(10),n(),t(11,"p"),o(12),n(),t(13,"button",7),m("click",function(){let i=w(e).$implicit,c=M();return S(c.eliminarConsulta(i.idConsulta))}),o(14,"Eliminar"),n()()}if(a&2){let e=d.$implicit;l(2),g("Nombre de la mascota: ",e.nombre_mascota,""),l(2),g("Tipo de consulta: ",e.tipoConsulta,""),l(2),g("Estado de la consulta: ",e.estadoConsulta,""),l(2),g("Fecha: ",e.fecha,""),l(2),g("Hora: ",e.hora,""),l(2),g("Raz\xF3n de la consulta: ",e.razonConsulta,"")}}var te=(()=>{class a{consultaService;consultas=[];mascotas=[];constructor(e){this.consultaService=e}ngOnInit(){this.cargarConsultas()}cargarConsultas(){this.consultaService.obtenerMascotasDetalle().subscribe(e=>{this.mascotas=e;let r=e.map(i=>this.consultaService.obtenerConsultasPorMascota(i.idMascota));L(r).subscribe(i=>{this.consultas=i.flat()},i=>{console.error("Error al cargar las consultas de las mascotas:",i)})},e=>{console.error("Error al cargar las mascotas del usuario:",e)})}eliminarConsulta(e){if(!e){console.error("ID de la consulta no est\xE1 definido");return}this.consultaService.eliminarConsulta(e).subscribe(()=>{this.consultas=this.consultas.filter(r=>r.idConsulta!==e)},r=>{console.error("Error eliminando la consulta:",r)})}static \u0275fac=function(r){return new(r||a)(v(y))};static \u0275cmp=_({type:a,selectors:[["app-dueno"]],decls:9,vars:1,consts:[["id","Cuerpo"],["id","Fondo"],[1,"titulo"],["routerLink","/consults/reservar-consulta",1,"btn-reservar"],[1,"consultas"],["class","consulta",4,"ngFor","ngForOf"],[1,"consulta"],[1,"btn-eliminar",3,"click"]],template:function(r,i){r&1&&(t(0,"body",0)(1,"section",1)(2,"div",2)(3,"h1"),o(4,"Consultas"),n()(),t(5,"button",3),o(6," Reservar consulta "),n(),t(7,"div",4),u(8,ce,15,6,"div",5),n()()()),r&2&&(l(8),p("ngForOf",i.consultas))},dependencies:[b,E],styles:["#Cuerpo[_ngcontent-%COMP%]{zoom:100%;min-height:100vh;display:flex;justify-content:center}#Fondo[_ngcontent-%COMP%]{margin:25px 0;box-sizing:border-box;width:95%;height:939px;border-radius:25px;background:#fff;align-items:center;display:flex;flex-direction:column}.btn-eliminar[_ngcontent-%COMP%], .btn-consultas[_ngcontent-%COMP%]{background-color:#57d7db;color:#fff;border:2px black;padding:12px 0;border-radius:10px;font-size:16px;cursor:pointer;font-weight:700;margin-top:10px;width:100%;transition:background-color .3s}.btn-reservar[_ngcontent-%COMP%]{background-color:#d9dcdc;color:#003049;padding:12px 0;border-radius:10px;font-size:16px;cursor:pointer;font-weight:700;margin-bottom:2%;width:20%;transition:background-color .3s}.btn-reservar[_ngcontent-%COMP%]:hover{background-color:#bdc0c0}.btn-eliminar[_ngcontent-%COMP%]{background-color:#e67878}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#de3535}.btn-consultas[_ngcontent-%COMP%]:hover{background-color:#18c1c7}.titulo[_ngcontent-%COMP%]{justify-content:center;margin:1% 2%;display:flex;align-items:center}.consultas[_ngcontent-%COMP%]{margin:0 3% 2%;display:flex;flex-wrap:wrap;height:auto;gap:25px;justify-content:center;overflow-y:auto}.consulta[_ngcontent-%COMP%]{box-sizing:border-box;width:350px;height:auto;border-radius:15px;padding:16px;background:#93e9ec;color:#003049;font-family:Open Sans;font-size:14px;line-height:21px;display:flex;flex-direction:column}h1[_ngcontent-%COMP%]{color:#003049;font-family:Open Sans;font-size:32px;font-weight:700;line-height:40px;letter-spacing:-.8px}"]})}return a})();function de(a,d){if(a&1&&(t(0,"div",5)(1,"h2"),o(2),n(),t(3,"p"),o(4),n(),t(5,"p"),o(6),n(),t(7,"p"),o(8),n(),t(9,"p"),o(10),n(),t(11,"p"),o(12),n(),t(13,"button",6),o(14,"Ingresar a la consulta"),n()()),a&2){let e=d.$implicit;l(2),g("Nombre de la mascota: ",e.nombre_mascota,""),l(2),g("Tipo de consulta: ",e.tipoConsulta,""),l(2),g("Estado de la consulta: ",e.estadoConsulta,""),l(2),g("Fecha: ",e.fecha,""),l(2),g("Hora: ",e.hora,""),l(2),g("Raz\xF3n de la consulta: ",e.razonConsulta,"")}}var ne=(()=>{class a{consultaService;consultas=[];constructor(e){this.consultaService=e}ngOnInit(){this.cargarConsultas()}cargarConsultas(){this.consultaService.obtenerConsultas().subscribe(e=>{this.consultas=e,console.log(e)})}eliminarConsulta(e){if(!e){console.error("ID de la consulta no est\xE1 definido");return}this.consultaService.eliminarConsulta(e).subscribe(()=>{this.consultas=this.consultas.filter(r=>r.idConsulta!==e)},r=>{console.error("Error eliminando la consulta:",r)})}static \u0275fac=function(r){return new(r||a)(v(y))};static \u0275cmp=_({type:a,selectors:[["app-veterinario"]],decls:7,vars:1,consts:[["id","Cuerpo"],["id","Fondo"],[1,"titulo"],[1,"consultas"],["class","consulta",4,"ngFor","ngForOf"],[1,"consulta"],["routerLink","/consults/consultas-vet-post",1,"btn-consultas"]],template:function(r,i){r&1&&(t(0,"body",0)(1,"section",1)(2,"div",2)(3,"h1"),o(4,"Consultas"),n()(),t(5,"div",3),u(6,de,15,6,"div",4),n()()()),r&2&&(l(6),p("ngForOf",i.consultas))},dependencies:[b,E],styles:["#Cuerpo[_ngcontent-%COMP%]{zoom:100%;min-height:100vh;display:flex;justify-content:center}#Fondo[_ngcontent-%COMP%]{margin:25px 0;box-sizing:border-box;width:95%;height:939px;border-radius:25px;background:#fff;align-items:center;display:flex;flex-direction:column}.btn-eliminar[_ngcontent-%COMP%], .btn-consultas[_ngcontent-%COMP%]{background-color:#57d7db;color:#fff;border:2px black;padding:12px 0;border-radius:10px;font-size:16px;cursor:pointer;font-weight:700;margin-top:10px;width:100%;transition:background-color .3s}.btn-reservar[_ngcontent-%COMP%]{background-color:#d9dcdc;color:#003049;padding:12px 0;border-radius:10px;font-size:16px;cursor:pointer;font-weight:700;margin-bottom:2%;width:20%;transition:background-color .3s}.btn-reservar[_ngcontent-%COMP%]:hover{background-color:#bdc0c0}.btn-eliminar[_ngcontent-%COMP%]{background-color:#e67878}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#de3535}.btn-consultas[_ngcontent-%COMP%]:hover{background-color:#18c1c7}.titulo[_ngcontent-%COMP%]{justify-content:center;margin:1% 2%;display:flex;align-items:center}.consultas[_ngcontent-%COMP%]{margin:0 3% 2%;display:flex;flex-wrap:wrap;height:auto;gap:25px;justify-content:center;overflow-y:auto}.consulta[_ngcontent-%COMP%]{box-sizing:border-box;width:350px;height:auto;border-radius:15px;padding:16px;background:#93e9ec;color:#003049;font-family:Open Sans;font-size:14px;line-height:21px;display:flex;flex-direction:column}h1[_ngcontent-%COMP%]{color:#003049;font-family:Open Sans;font-size:32px;font-weight:700;line-height:40px;letter-spacing:-.8px}"]})}return a})();function pe(a,d){if(a&1&&(t(0,"option",32),o(1),n()),a&2){let e=d.$implicit;p("value",e.idMascota),l(),f(e.nombre)}}function ue(a,d){if(a&1){let e=O();t(0,"li",35),m("click",function(){let i=w(e).index,c=M(2);return S(c.selectMonth(i))}),o(1),n()}if(a&2){let e=d.$implicit;l(),g(" ",e," ")}}function me(a,d){if(a&1&&(t(0,"div",33)(1,"ul"),u(2,ue,2,1,"li",34),n()()),a&2){let e=M();l(2),p("ngForOf",e.months)}}function ge(a,d){if(a&1){let e=O();t(0,"li",35),m("click",function(){let i=w(e).$implicit,c=M(2);return S(c.selectYear(i))}),o(1),n()}if(a&2){let e=d.$implicit;l(),g(" ",e," ")}}function fe(a,d){if(a&1&&(t(0,"div",36)(1,"ul"),u(2,ge,2,1,"li",34),n()()),a&2){let e=M();l(2),p("ngForOf",e.years)}}function he(a,d){if(a&1){let e=O();t(0,"li",35),m("click",function(){let i=w(e).index,c=M();return S(c.setActiveDay(i))}),t(1,"span",37),o(2),n(),t(3,"span",38),o(4),n()()}if(a&2){let e=d.$implicit,r=d.index,i=M();V("active",r===i.activeIndex),l(2),f(e.day),l(2),f(e.date)}}function Ce(a,d){if(a&1){let e=O();t(0,"div",39),m("click",function(){let i=w(e).$implicit,c=M();return S(c.seleccionarHorario(i.idHorario))}),t(1,"span",40),o(2),n(),t(3,"div",41)(4,"span",42),o(5),n(),t(6,"span",43),o(7),n()()()}if(a&2){let e=d.$implicit,r=M();V("selected",e.idHorario===r.selectedHorarioId),l(2),f(e.veterinario_nombre),l(3),f(e.hora),l(2),f(e.fecha)}}var ie=(()=>{class a{consultaService;mascotas=[];horarios=[];selectedMascotaId=null;selectedHorarioId=null;tipoConsulta="";razonConsulta="";daysAndDates=[];activeIndex=0;currentMonth="";currentYear=0;currentStartDate=new Date;showMonthDropdown=!1;showYearDropdown=!1;months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];years=[];fechaSeleccionada=null;constructor(e){this.consultaService=e,this.initializeCalendar(new Date),this.populateYears()}ngOnInit(){this.cargarMascotas(),document.addEventListener("click",this.handleClickOutside.bind(this))}handleClickOutside(e){e.target.closest(".dropdown")||(this.showMonthDropdown=!1,this.showYearDropdown=!1)}cargarMascotas(){this.consultaService.obtenerMascotasDetalle().subscribe(e=>{this.mascotas=e})}cargarHorarios(){if(this.fechaSeleccionada){let e=this.fechaSeleccionada.toISOString().split("T")[0];console.log("Fecha seleccionada para cargar horarios:",e),this.consultaService.obtenerHorarios().subscribe(r=>{this.horarios=r.filter(i=>i.fecha===e),console.log("Horarios disponibles para la fecha seleccionada:",this.horarios)})}else console.log("No se ha seleccionado una fecha.")}seleccionarHorario(e){this.selectedHorarioId=e,console.log("Horario seleccionado:",e)}registrarConsulta(){if(this.selectedMascotaId&&this.selectedHorarioId){let e={idMascota:this.selectedMascotaId,idHorario:this.selectedHorarioId,tipoConsulta:this.tipoConsulta,razonConsulta:this.razonConsulta,estadoConsulta:"PENDIENTE"};console.log("Datos de la consulta a registrar:",e),this.consultaService.registrarReserva(e).subscribe(()=>{alert("Consulta registrada con \xE9xito"),this.horarios=this.horarios.filter(r=>r.idHorario!==this.selectedHorarioId),this.resetFormulario()},r=>{console.error("Error al registrar la consulta:",r)})}else alert("Por favor, seleccione una mascota y un horario")}resetFormulario(){this.selectedMascotaId=null,this.selectedHorarioId=null,this.tipoConsulta="",this.razonConsulta="",this.fechaSeleccionada=null}initializeCalendar(e){this.currentStartDate=new Date(e.getFullYear(),e.getMonth(),1),this.currentMonth=this.months[this.currentStartDate.getMonth()],this.currentYear=this.currentStartDate.getFullYear(),this.generateDays(),this.setDefaultActiveDay()}toggleMonthDropdown(){this.showMonthDropdown=!this.showMonthDropdown,this.showMonthDropdown&&(this.showYearDropdown=!1)}toggleYearDropdown(){this.showYearDropdown=!this.showYearDropdown,this.showYearDropdown&&(this.showMonthDropdown=!1)}selectMonth(e){let r=new Date(this.currentYear,e,1);this.initializeCalendar(r),this.showMonthDropdown=!1}selectYear(e){let r=new Date(e,this.months.indexOf(this.currentMonth),1);this.initializeCalendar(r),this.showYearDropdown=!1}populateYears(){let r=new Date().getFullYear()+10;for(let i=2010;i<=r;i++)this.years.push(i)}generateDays(){let e=["Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b","Dom"];this.daysAndDates=Array.from({length:14},(r,i)=>{let c=new Date(this.currentStartDate);return c.setDate(this.currentStartDate.getDate()+i),{day:e[c.getDay()],date:c.getDate(),fullDate:c}})}setDefaultActiveDay(){this.activeIndex=0,this.fechaSeleccionada=this.daysAndDates[this.activeIndex].fullDate,this.cargarHorarios()}setActiveDay(e){this.activeIndex=e,this.fechaSeleccionada=this.daysAndDates[e].fullDate,this.cargarHorarios()}prev(){let e=new Date(this.currentStartDate);e.setDate(this.currentStartDate.getDate()-14),this.initializeCalendar(e)}next(){let e=new Date(this.currentStartDate);e.setDate(this.currentStartDate.getDate()+14),this.initializeCalendar(e)}static \u0275fac=function(r){return new(r||a)(v(y))};static \u0275cmp=_({type:a,selectors:[["app-consultas"]],decls:55,vars:10,consts:[["id","Cuerpo"],["id","Fondo"],[1,"reserva-consulta"],[1,"titulo"],[1,"formulario"],["for","mascota"],["id","mascota",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","tipoConsulta"],["id","tipoConsulta",1,"input-field",3,"ngModelChange","ngModel"],["value","REVISION_GENERAL"],["value","URGENCIA"],["value","SEGUIMIENTO"],["value","VACUNA"],["for","razonConsulta"],["id","razonConsulta","placeholder","Descripci\xF3n de la consulta",1,"input-field",3,"ngModelChange","ngModel"],[1,"reservar-btn",3,"click"],[1,"horarios-disponibles"],[1,"calendar-header"],[1,"month-year-selection"],[1,"dropdown",3,"click"],[1,"dropdown-icon"],["class","month-dropdown",4,"ngIf"],["class","year-dropdown",4,"ngIf"],[1,"calendar-navigation"],[1,"prev",3,"click"],[1,"dates-container"],[1,"dates"],[3,"active","click",4,"ngFor","ngForOf"],[1,"next",3,"click"],[1,"horarios-lista"],["class","horario",3,"selected","click",4,"ngFor","ngForOf"],[3,"value"],[1,"month-dropdown"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"year-dropdown"],[1,"day"],[1,"date"],[1,"horario",3,"click"],[1,"veterinario"],[1,"hora-fecha"],[1,"hora"],[1,"fecha"]],template:function(r,i){r&1&&(t(0,"body",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),o(5,"Reservar consulta"),n()(),t(6,"div",4)(7,"label",5),o(8,"Mascota:"),n(),t(9,"select",6),x("ngModelChange",function(s){return C(i.selectedMascotaId,s)||(i.selectedMascotaId=s),s}),u(10,pe,2,2,"option",7),n(),t(11,"label",8),o(12,"Tipo de consulta:"),n(),t(13,"select",9),x("ngModelChange",function(s){return C(i.tipoConsulta,s)||(i.tipoConsulta=s),s}),t(14,"option",10),o(15,"Revisi\xF3n general"),n(),t(16,"option",11),o(17,"Urgencia"),n(),t(18,"option",12),o(19,"Seguimiento"),n(),t(20,"option",13),o(21,"Vacuna"),n()(),t(22,"label",14),o(23,"Raz\xF3n de la consulta:"),n(),t(24,"textarea",15),x("ngModelChange",function(s){return C(i.razonConsulta,s)||(i.razonConsulta=s),s}),n(),t(25,"button",16),m("click",function(){return i.registrarConsulta()}),o(26,"Reservar"),n()()(),t(27,"div",17)(28,"div",3)(29,"h1"),o(30,"Horarios disponibles"),n()(),t(31,"div",18)(32,"div",19)(33,"div",20),m("click",function(){return i.toggleMonthDropdown()}),t(34,"span"),o(35),n(),t(36,"span",21),o(37,"\u25BC"),n(),u(38,me,3,1,"div",22),n(),t(39,"div",20),m("click",function(){return i.toggleYearDropdown()}),t(40,"span"),o(41),n(),t(42,"span",21),o(43,"\u25BC"),n(),u(44,fe,3,1,"div",23),n()()(),t(45,"div",24)(46,"span",25),m("click",function(){return i.prev()}),o(47,"<"),n(),t(48,"div",26)(49,"ul",27),u(50,he,5,4,"li",28),n()(),t(51,"span",29),m("click",function(){return i.next()}),o(52,">"),n()(),t(53,"div",30),u(54,Ce,8,5,"div",31),n()()()()),r&2&&(l(9),h("ngModel",i.selectedMascotaId),l(),p("ngForOf",i.mascotas),l(3),h("ngModel",i.tipoConsulta),l(11),h("ngModel",i.razonConsulta),l(11),f(i.currentMonth),l(3),p("ngIf",i.showMonthDropdown),l(3),f(i.currentYear),l(3),p("ngIf",i.showYearDropdown),l(6),p("ngForOf",i.daysAndDates),l(4),p("ngForOf",i.horarios))},dependencies:[b,Y,F,T,I,z,k,D],styles:["#Cuerpo[_ngcontent-%COMP%]{zoom:100%;min-height:100vh;display:flex;justify-content:center;background-color:#f5f5f5}#Fondo[_ngcontent-%COMP%]{margin:25px 0;box-sizing:border-box;width:95%;display:flex;gap:30px}.reserva-consulta[_ngcontent-%COMP%], .horarios-disponibles[_ngcontent-%COMP%]{background:#ededed;border-radius:15px;padding:20px;width:45%;display:flex;flex-direction:column;align-items:center;box-shadow:0 4px 8px #0000001a}.titulo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0099b2;font-family:Quicksand;font-size:35px;font-weight:700;line-height:40px;margin-bottom:20px;text-align:center}.formulario[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:15px}.input-field[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-family:Open Sans;font-size:14px;background-color:#f9f9f9}#razonConsulta[_ngcontent-%COMP%]{width:97%}.reservar-btn[_ngcontent-%COMP%]{background-color:#93e9ec;color:#003049;border:none;padding:12px 0;border-radius:10px;font-size:16px;cursor:pointer;font-weight:700;margin-top:10px;width:100%;transition:background-color .3s}.reservar-btn[_ngcontent-%COMP%]:hover{background-color:#80d3d6}.calendario[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;margin-bottom:20px;width:100%}.month-year-selection[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.dropdown[_ngcontent-%COMP%]{background-color:#93e9ec;border-radius:10px;padding:10px 15px;font-size:18px;color:#003049;font-weight:700;cursor:pointer;position:relative}.dropdown-icon[_ngcontent-%COMP%]{margin-left:5px}.month-dropdown[_ngcontent-%COMP%], .year-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;background-color:#fff;border:1px solid #ddd;border-radius:8px;width:120px;max-height:200px;overflow-y:auto;z-index:1000}.month-dropdown.active[_ngcontent-%COMP%], .year-dropdown.active[_ngcontent-%COMP%]{display:block}.month-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .year-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.month-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .year-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer}.month-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .year-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.dates-container[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:0;margin:0;list-style:none;width:100%;gap:5px}.dates-container[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;color:#003049;cursor:pointer;transition:background-color .3s,color .3s;padding:8px;border-radius:8px;display:flex;flex-direction:column;align-items:center}.dates-container[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#93e9ec;color:#003049;font-weight:700;padding:8px 12px;border-radius:12px;box-shadow:0 4px 8px #0000001a}.horarios-lista[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;row-gap:10px}.horario[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#93e9ec;padding:10px;border-radius:10px;color:#003049;font-family:Open Sans;font-size:16px;box-shadow:0 4px 8px #0000001a;transition:background-color .3s,transform .3s}.horario[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.veterinario[_ngcontent-%COMP%]{font-weight:700}.hora-fecha[_ngcontent-%COMP%]{display:flex;gap:10px}.hora[_ngcontent-%COMP%], .fecha[_ngcontent-%COMP%]{background-color:#003049;color:#fff;padding:5px 10px;border-radius:5px;font-weight:700}.horario.selected[_ngcontent-%COMP%]{background-color:#80d3d6;color:#002633;box-shadow:0 4px 8px #0003}.calendar-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;margin:10px 0}.calendar-navigation[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%], .calendar-navigation[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{cursor:pointer;font-size:18px;color:#003049;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.calendar-navigation[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%]:hover, .calendar-navigation[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]:hover{color:#0077b6;transform:scale(1.1);transition:transform .2s}"]})}return a})();var re=(()=>{class a{static \u0275fac=function(r){return new(r||a)};static \u0275cmp=_({type:a,selectors:[["app-post-consulta"]],decls:21,vars:0,consts:[[1,"background"],[1,"container"],[1,"consultas-card"],[1,"opciones"],["routerLink","/consults/informe"],["routerLink","/consults/reservar-consulta-vet"],["routerLink","/consults/consultas-vet",1,"saltar-paso"]],template:function(r,i){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),o(4,"Consulta posterior"),n(),t(5,"p"),o(6,"George \u2022 Hoy 9:00 AM"),n(),t(7,"div",3)(8,"h3"),o(9,"\xBFQu\xE9 te gustar\xEDa hacer a continuaci\xF3n?"),n(),t(10,"ul")(11,"li",4)(12,"mat-icon"),o(13,"medication"),n(),o(14," Registrar informe"),n(),t(15,"li",5)(16,"mat-icon"),o(17,"event"),n(),o(18," Programar una cita de seguimiento"),n()(),t(19,"button",6),o(20,"Saltar paso"),n()()()()())},dependencies:[E,X],styles:[".background[_ngcontent-%COMP%]{background-color:#f0f0f0;min-height:100vh;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{width:100%;max-width:1200px;display:flex;justify-content:center;padding:20px;box-sizing:border-box}.consultas-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding:20px;box-shadow:0 0 10px #0000001a;width:100%;max-width:800px;display:flex;flex-direction:column;position:relative;box-sizing:border-box}h2[_ngcontent-%COMP%]{margin-top:0}.opciones[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.opciones[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.opciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;width:100%}.opciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 0;border-bottom:1px solid #ddd;cursor:pointer}.opciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.opciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.saltar-paso[_ngcontent-%COMP%]{margin-top:20px;padding:10px 20px;background-color:#5cb4b5;color:#fff;border:none;border-radius:5px;cursor:pointer}.saltar-paso[_ngcontent-%COMP%]:hover{background-color:#4ca0a1}"]})}return a})();function xe(a,d){if(a&1&&(t(0,"option",22),o(1),n()),a&2){let e=d.$implicit;p("value",e.idMascota),l(),f(e.nombre)}}var ae=(()=>{class a{consultaService;router;mascotas=[];selectedMascotaId=null;razonConsulta=null;presionArterial=null;pulso=null;temperatura=null;peso=null;altura=null;constructor(e,r){this.consultaService=e,this.router=r}cargarMascotas(){this.consultaService.obtenerMascotas().subscribe(e=>{this.mascotas=e,console.log(this.mascotas)})}ngOnInit(){this.cargarMascotas()}registrarInforme(){if(this.selectedMascotaId&&this.presionArterial&&this.pulso&&this.temperatura&&this.peso&&this.altura&&this.razonConsulta){let e={idMascota:this.selectedMascotaId,presionArterial:this.presionArterial,pulso:this.pulso,temperatura:this.temperatura,peso:this.peso,altura:this.altura},r={idMascota:this.selectedMascotaId,descripcion:this.razonConsulta};this.consultaService.registrarInforme(e).subscribe(()=>{this.consultaService.registrarNotaConsulta(r).subscribe(),alert("Informe registrado con \xE9xito"),this.resetFormulario(),this.router.navigate(["/consults/consultas-vet"])},i=>{console.error("Error al registrar el informe:",i)})}else alert("Por favor, complete todos los campos")}resetFormulario(){this.selectedMascotaId=null,this.presionArterial=null,this.pulso=null,this.temperatura=null,this.peso=null,this.altura=null,this.razonConsulta=null}static \u0275fac=function(r){return new(r||a)(v(y),v(U))};static \u0275cmp=_({type:a,selectors:[["app-informe"]],decls:36,vars:8,consts:[["id","Cuerpo"],["id","Fondo"],[1,"informe-consulta"],[1,"titulo"],[1,"formulario"],["for","mascota"],["id","mascota",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","razonConsulta"],["id","razonConsulta","placeholder","Descripci\xF3n de la consulta",1,"input-field",3,"ngModelChange","ngModel"],[1,"reservar-btn",3,"click"],[1,"examen-fisico"],["for","presionArterial"],["id","presionArterial","type","number","placeholder","Presi\xF3n arterial en mm Hg",1,"input-field",3,"ngModelChange","ngModel"],["for","pulso"],["id","pulso","type","number","placeholder","Pulso en latidos por minuto",1,"input-field",3,"ngModelChange","ngModel"],["for","temperatura"],["id","temperatura","type","number","placeholder","Temperatura",1,"input-field",3,"ngModelChange","ngModel"],["for","peso"],["id","peso","type","number","placeholder","Peso en kilogramos",1,"input-field",3,"ngModelChange","ngModel"],["for","altura"],["id","altura","type","number","placeholder","Altura en metros",1,"input-field",3,"ngModelChange","ngModel"],[3,"value"]],template:function(r,i){r&1&&(t(0,"body",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),o(5,"Informe de la consulta"),n()(),t(6,"div",4)(7,"label",5),o(8,"Mascota:"),n(),t(9,"select",6),x("ngModelChange",function(s){return C(i.selectedMascotaId,s)||(i.selectedMascotaId=s),s}),u(10,xe,2,2,"option",7),n(),t(11,"label",8),o(12,"Raz\xF3n de la consulta:"),n(),t(13,"textarea",9),x("ngModelChange",function(s){return C(i.razonConsulta,s)||(i.razonConsulta=s),s}),n(),t(14,"button",10),m("click",function(){return i.registrarInforme()}),o(15,"Registrar informe"),n()()(),t(16,"div",11)(17,"div",3)(18,"h1"),o(19,"Examen f\xEDsico"),n()(),t(20,"div",4)(21,"label",12),o(22,"Presi\xF3n arterial"),n(),t(23,"input",13),x("ngModelChange",function(s){return C(i.presionArterial,s)||(i.presionArterial=s),s}),n(),t(24,"label",14),o(25,"Pulso"),n(),t(26,"input",15),x("ngModelChange",function(s){return C(i.pulso,s)||(i.pulso=s),s}),n(),t(27,"label",16),o(28,"Temperatura"),n(),t(29,"input",17),x("ngModelChange",function(s){return C(i.temperatura,s)||(i.temperatura=s),s}),n(),t(30,"label",18),o(31,"Peso"),n(),t(32,"input",19),x("ngModelChange",function(s){return C(i.peso,s)||(i.peso=s),s}),n(),t(33,"label",20),o(34,"Altura"),n(),t(35,"input",21),x("ngModelChange",function(s){return C(i.altura,s)||(i.altura=s),s}),n()()()()()),r&2&&(l(9),h("ngModel",i.selectedMascotaId),l(),p("ngForOf",i.mascotas),l(3),h("ngModel",i.razonConsulta),l(10),h("ngModel",i.presionArterial),l(3),h("ngModel",i.pulso),l(3),h("ngModel",i.temperatura),l(3),h("ngModel",i.peso),l(3),h("ngModel",i.altura))},dependencies:[b,F,T,I,G,z,k,D],styles:["#Cuerpo[_ngcontent-%COMP%]{zoom:100%;min-height:100vh;display:flex;justify-content:center;background-color:#f5f5f5}#Fondo[_ngcontent-%COMP%]{margin:25px 0;box-sizing:border-box;width:95%;display:flex;gap:30px}.informe-consulta[_ngcontent-%COMP%], .examen-fisico[_ngcontent-%COMP%]{background:#ededed;border-radius:15px;padding:20px;width:45%;display:flex;flex-direction:column;align-items:center;box-shadow:0 4px 8px #0000001a}.titulo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0099b2;font-family:Quicksand;font-size:35px;font-weight:700;line-height:24px}.formulario[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:15px}.input-field[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-family:Open Sans;font-size:14px;background-color:#f9f9f9}#razonConsulta[_ngcontent-%COMP%]{width:97%}.reservar-btn[_ngcontent-%COMP%]{background-color:#93e9ec;color:#003049;border:none;padding:12px 0;border-radius:10px;font-size:16px;cursor:pointer;font-weight:700;margin-top:10px;width:100%;transition:background-color .3s}.reservar-btn[_ngcontent-%COMP%]:hover{background-color:#80d3d6}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]})}return a})();function _e(a,d){if(a&1&&(t(0,"option",26),o(1),n()),a&2){let e=d.$implicit;p("value",e.idMascota),l(),f(e.nombre)}}function Me(a,d){if(a&1){let e=O();t(0,"div",27),m("click",function(){let i=w(e).$implicit,c=M();return S(c.seleccionarHorario(i.idHorario))}),t(1,"span",28),o(2),n(),t(3,"div",29)(4,"span",30),o(5),n(),t(6,"span",31),o(7),n()()()}if(a&2){let e=d.$implicit,r=M();V("selected",e.idHorario===r.selectedHorarioId),l(2),f(e.veterinario_nombre),l(3),f(e.hora),l(2),f(e.fecha)}}var le=(()=>{class a{consultaService;horarioId=4;mascotas=[];horarios=[];selectedMascotaId=null;selectedHorarioId=null;tipoConsulta="";razonConsulta="";constructor(e){this.consultaService=e}ngOnInit(){this.cargarMascotas(),this.cargarHorarios1(this.horarioId)}cargarMascotas(){this.consultaService.obtenerMascotas().subscribe(e=>{this.mascotas=e,console.log(this.mascotas)})}cargarHorarios(){this.consultaService.obtenerHorarios().subscribe(e=>{this.horarios=e,console.log(this.horarios)})}cargarHorarios1(e){this.consultaService.obtenerHorariosVet(e).subscribe(r=>{this.horarios=r,console.log(this.horarios)})}seleccionarHorario(e){this.selectedHorarioId=e}registrarConsulta(){if(this.selectedMascotaId&&this.selectedHorarioId){let e={idMascota:this.selectedMascotaId,idHorario:this.selectedHorarioId,tipoConsulta:this.tipoConsulta,razonConsulta:this.razonConsulta,estadoConsulta:"PENDIENTE"};this.consultaService.registrarReserva(e).subscribe(()=>{alert("Consulta registrada con \xE9xito"),this.horarios=this.horarios.filter(r=>r.idHorario!==this.selectedHorarioId),this.resetFormulario()},r=>{console.error("Error al registrar la consulta:",r)})}else alert("Por favor, seleccione una mascota y un horario")}resetFormulario(){this.selectedMascotaId=null,this.selectedHorarioId=null,this.tipoConsulta="",this.razonConsulta=""}static \u0275fac=function(r){return new(r||a)(v(y))};static \u0275cmp=_({type:a,selectors:[["app-consultas-vet"]],decls:68,vars:5,consts:[["id","Cuerpo"],["id","Fondo"],[1,"reserva-consulta"],[1,"titulo"],[1,"formulario"],["for","mascota"],["id","mascota",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","tipoConsulta"],["id","tipoConsulta","placeholder","Tipo de consulta",1,"input-field",3,"ngModelChange","ngModel"],["value","REVISION_GENERAL"],["value","URGENCIA"],["value","SEGUIMIENTO"],["value","VACUNA"],["for","razonConsulta"],["id","razonConsulta","placeholder","Descripci\xF3n de la consulta",1,"input-field",3,"ngModelChange","ngModel"],[1,"reservar-btn",3,"click"],[1,"horarios-disponibles"],[1,"calendario"],[1,"mes"],[1,"arrow"],[1,"dias-semana"],[1,"fechas"],[1,"active"],[1,"horarios-lista"],["class","horario",3,"selected","click",4,"ngFor","ngForOf"],[3,"value"],[1,"horario",3,"click"],[1,"veterinario"],[1,"hora-fecha"],[1,"hora"],[1,"fecha"]],template:function(r,i){r&1&&(t(0,"body",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),o(5,"Reservar consulta de seguimiento"),n()(),t(6,"div",4)(7,"label",5),o(8,"Mascota:"),n(),t(9,"select",6),x("ngModelChange",function(s){return C(i.selectedMascotaId,s)||(i.selectedMascotaId=s),s}),u(10,_e,2,2,"option",7),n(),t(11,"label",8),o(12,"Tipo de consulta:"),n(),t(13,"select",9),x("ngModelChange",function(s){return C(i.tipoConsulta,s)||(i.tipoConsulta=s),s}),t(14,"option",10),o(15,"Revisi\xF3n general"),n(),t(16,"option",11),o(17,"Urgencia"),n(),t(18,"option",12),o(19,"Seguimiento"),n(),t(20,"option",13),o(21,"Vacuna"),n()(),t(22,"label",14),o(23,"Raz\xF3n de la consulta:"),n(),t(24,"textarea",15),x("ngModelChange",function(s){return C(i.razonConsulta,s)||(i.razonConsulta=s),s}),n(),t(25,"button",16),m("click",function(){return i.registrarConsulta()}),o(26,"Reservar"),n()()(),t(27,"div",17)(28,"div",3)(29,"h1"),o(30,"Horarios disponibles"),n()(),t(31,"div",18)(32,"div",19),o(33,"Abril 2024 "),t(34,"span",20),o(35,"\u25BC"),n()(),t(36,"div",21)(37,"div"),o(38,"Lun"),n(),t(39,"div"),o(40,"Mar"),n(),t(41,"div"),o(42,"Mi\xE9"),n(),t(43,"div"),o(44,"Jue"),n(),t(45,"div"),o(46,"Vie"),n(),t(47,"div"),o(48,"S\xE1b"),n(),t(49,"div"),o(50,"Dom"),n()(),t(51,"div",22)(52,"div"),o(53,"9"),n(),t(54,"div"),o(55,"10"),n(),t(56,"div",23),o(57,"11"),n(),t(58,"div"),o(59,"12"),n(),t(60,"div"),o(61,"13"),n(),t(62,"div"),o(63,"14"),n(),t(64,"div"),o(65,"15"),n()()(),t(66,"div",24),u(67,Me,8,5,"div",25),n()()()()),r&2&&(l(9),h("ngModel",i.selectedMascotaId),l(),p("ngForOf",i.mascotas),l(3),h("ngModel",i.tipoConsulta),l(11),h("ngModel",i.razonConsulta),l(43),p("ngForOf",i.horarios))},dependencies:[b,F,T,I,z,k,D],styles:["#Cuerpo[_ngcontent-%COMP%]{zoom:100%;min-height:100vh;display:flex;justify-content:center;background-color:#f5f5f5}#Fondo[_ngcontent-%COMP%]{margin:25px 0;box-sizing:border-box;width:95%;display:flex;gap:30px}.reserva-consulta[_ngcontent-%COMP%], .horarios-disponibles[_ngcontent-%COMP%]{background:#ededed;border-radius:15px;padding:20px;width:45%;display:flex;flex-direction:column;align-items:center;box-shadow:0 4px 8px #0000001a}.titulo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0099b2;font-family:Quicksand;font-size:35px;font-style:normal;font-weight:700;line-height:24px}.formulario[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:15px}.input-field[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-family:Open Sans;font-size:14px;background-color:#f9f9f9}#razonConsulta[_ngcontent-%COMP%]{width:97%}.reservar-btn[_ngcontent-%COMP%]{background-color:#93e9ec;color:#003049;border:none;padding:12px 0;border-radius:10px;font-size:16px;cursor:pointer;font-weight:700;margin-top:10px;width:100%;transition:background-color .3s}.reservar-btn[_ngcontent-%COMP%]:hover{background-color:#80d3d6}.calendario[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;margin-bottom:20px;width:100%}.mes[_ngcontent-%COMP%]{font-size:18px;font-weight:700;display:flex;align-items:center;color:#003049}.arrow[_ngcontent-%COMP%]{font-size:12px;margin-left:8px}.dias-semana[_ngcontent-%COMP%], .fechas[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;gap:10px}.dias-semana[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .fechas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-family:Open Sans;font-size:14px;color:#666}.fechas[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#93e9ec;color:#003049;font-weight:700}.horarios-lista[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;row-gap:10px}.horario[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#93e9ec;padding:10px;border-radius:10px;color:#003049;font-family:Open Sans;font-size:16px;box-shadow:0 4px 8px #0000001a;transition:background-color .3s,transform .3s}.horario[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.veterinario[_ngcontent-%COMP%]{font-weight:700}.hora-fecha[_ngcontent-%COMP%]{display:flex;gap:10px}.hora[_ngcontent-%COMP%], .fecha[_ngcontent-%COMP%]{background-color:#003049;color:#fff;padding:5px 10px;border-radius:5px;font-weight:700}.horario.selected[_ngcontent-%COMP%]{background-color:#80d3d6;color:#002633;box-shadow:0 4px 8px #0003}"]})}return a})();var ve=[{path:"",component:ee},{path:"reservar-consulta",component:ie},{path:"reservar-consulta-vet",component:le},{path:"consultas-duenio",component:te},{path:"consultas-vet",component:ne},{path:"consultas-vet-post",component:re},{path:"informe",component:ae}],se=(()=>{class a{static \u0275fac=function(r){return new(r||a)};static \u0275mod=N({type:a});static \u0275inj=H({imports:[R.forChild(ve),R]})}return a})();var st=(()=>{class a{static \u0275fac=function(r){return new(r||a)};static \u0275mod=N({type:a});static \u0275inj=H({imports:[B,se,J,Z,Q,$,q,K]})}return a})();export{st as a};
